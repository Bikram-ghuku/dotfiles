# =========================
# FILES
# =========================
$mpris_art = /tmp/hyde-mpris.png
$wall = $HOME/Pictures/wall-01.png
$music = $HOME/.config/hypr/scripts/music.sh
$music_visible = $HOME/.config/hypr/scripts/music-visible.sh
$battery = $HOME/.config/hypr/scripts/battery.sh

# =========================
# GENERAL
# =========================
general {
  no_fade_in = true
  grace = 1
  hide_cursor = true
  ignore_empty_input = true
  text_trim = true
}

# =========================
# BACKGROUND (Tokyo Night)
# =========================
background {
    monitor =
    path = $wall
    blur_passes = 3
    contrast = 0.88
    brightness = 0.70
    vibrancy = 0.18
    vibrancy_darkness = 0.05
}

# =========================
# TIME (HOURS)
# =========================
label {
    monitor =
    text = cmd[update:1000] date +"%H"
    color = rgba(180, 190, 254, 1.0)
    font_size = 150
    font_family = AlfaSlabOne
    position = 0, -240
    halign = center
    valign = top
}

# =========================
# TIME (MINUTES)
# =========================
label {
    monitor =
    text = cmd[update:1000] date +"%M"
    color = rgba(205, 214, 244, 1.0)
    font_size = 150
    font_family = AlfaSlabOne
    position = 0, -410
    halign = center
    valign = top
}

# =========================
# DATE
# =========================
label {
    monitor =
    text = cmd[update:1000] date +"%d %b %A"
    color = rgba(166, 173, 200, 0.9)
    font_size = 14
    font_family = JetBrains Mono Nerd Font
    position = 0, -120
    halign = center
    valign = center
}

# =========================
# SPOTIFY GLASS PANEL (HIDDEN IF NO MUSIC)
# =========================
shape {
    monitor =
    size = 460, 120
    color = rgba(30, 30, 46, 0.55)
    rounding = 24
    position = 30, -310
    halign = center
    valign = center
    visible = cmd[update:1000] $music_visible
}

# =========================
# ALBUM ART
# =========================
image {
    monitor =
    path = /tmp/hyde-mpris.png
    size = 82
    rounding = 12
    position = -145, -310
    halign = center
    valign = center
    zindex = 50
}


# =========================
# SONG TITLE
# =========================
label {
    monitor =
    text = cmd[update:1000] echo "  $($music --title)"
    color = rgba(205, 214, 244, 0.95)
    font_size = 13
    font_family = JetBrains Mono Nerd Font
    position = 880, -310
    halign = left
    valign = center
    visible = cmd[update:1000] $music_visible
}

# =========================
# ARTIST
# =========================
label {
    monitor =
    text = cmd[update:1000] echo "  $($music --artist)"
    color = rgba(186, 194, 222, 0.85)
    font_size = 11
    font_family = JetBrains Mono Nerd Font
    position = 880, -330
    halign = left
    valign = center
    visible = cmd[update:1000] $music_visible
}

# =========================
# PLAY TIME
# =========================
label {
    monitor =
    text = cmd[update:1000] echo "  $($music --length)"
    color = rgba(166, 173, 200, 0.9)
    font_size = 11
    font_family = JetBrains Mono Nerd Font
    position = -730, -310
    halign = right
    valign = center
    visible = cmd[update:1000] $music_visible
}

# =========================
# SOURCE (Spotify / Browser)
# =========================
label {
    monitor =
    text = cmd[update:1000] echo "  $($music --source)"
    color = rgba(137, 180, 250, 0.85)
    font_size = 10
    font_family = JetBrains Mono Nerd Font
    position = 880, -285
    halign = left
    valign = center
    visible = cmd[update:1000] $music_visible
}

# =========================
# INPUT FIELD
# =========================
input-field {
    monitor =
    size = 260, 60
    inner_color = rgba(30, 30, 46, 0.6)
    outer_color = rgba(88, 91, 112, 0.6)
    font_color = rgba(205, 214, 244, 0.9)
    fade_on_empty = true
    placeholder_text = <i>Unlock</i>
    dots_center = true
    dots_size = 0.2
    position = 0, -470
    halign = center
    valign = center
}

# =========================
# BATTERY
# =========================
label {
    monitor =
    text = cmd[update:1000] $battery
    color = rgba(166, 173, 200, 0.8)
    font_size = 12
    font_family = JetBrains Mono Nerd Font
    position = -30, -510
    halign = right
    valign = center
}
